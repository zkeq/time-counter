<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <link rel="stylesheet" href="/time-counter.css" />

    <title>README</title>
  </head>
  <body class="typora-export">
    <div class="typora-export-content">
      <div id="write" class="">
        <h2 id="ç½‘ç«™åœ¨çº¿äººæ•°ç»Ÿè®¡"><span>ç½‘ç«™åœ¨çº¿äººæ•°ç»Ÿè®¡</span></h2>
        <blockquote>
          <p align="center">
            <span
              >æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå¼€ç®±å³ç”¨çš„ç«™ç‚¹åœ¨çº¿äººæ•°ç»Ÿè®¡æœåŠ¡ï¼ŒåŒæ—¶å¼€æºæ”¯æŒç§æœ‰åŒ–éƒ¨ç½²ã€‚</span
            >
          </p>
        </blockquote>
        <h3 id="å‰è¨€"><span>å‰è¨€ï¼š</span></h3>
        <ol start="">
          <li>
            <span>åœ¨ç»´æŠ¤ä¸€ä¸ª </span
            ><a href="https://tuostudy.com"><span>å­¦ä¹ ç«™ç‚¹</span></a
            ><span>
              æ—¶ï¼Œä¸ºäº†è¥é€ ä¸€ç§å­¦ä¹ çš„æ°›å›´ï¼Œå¼€å§‹çŒœæƒ³ èƒ½ä¸èƒ½å†™ä¸€ä¸ªå®æ—¶åœ¨çº¿äººæ•° API
              å‘¢ï¼Ÿ</span
            >
          </li>
          <li>
            <span
              >è¿™æ˜¯ä» Plausible ç«™ç‚¹ä¸­å¾—åˆ°çš„ä¸€ä¸ªæ€è·¯ï¼ŒåŠ ä»¥æ‰©å±• å³ æƒ³æ³•å˜æˆ
              èƒ½å¦å¾—åˆ°ä¸€ä¸ª </span
            ><code>è®°å½•æ¯äººåœ¨çº¿æ—¶é—´</code><span> çš„ API å‘¢ï¼Ÿ</span>
          </li>
          <li>
            <span
              >ğŸ¤” æ­¤é¡¹ç›®çš„ ä»£ç /æ¶æ„ å®ç°å®Œå…¨ç”± @soxft
              å¼€å‘ï¼Œå¾—åˆ°å¯ä»¥å®ç°çš„è‚¯å®šå›ç­”åï¼Œæœ¬é¡¹ç›®ä¸Šçº¿äº 2022.6.4
              å¹¶æŠ•å…¥ä½¿ç”¨</span
            >
          </li>
          <li>
            <span
              >åœ¨ 9 æœˆä»½ï¼Œå› ä¸ºå¼€å­¦ç­‰åŸå›  æ•°æ®åº“ä¸¢å¤± ä¸‹çº¿ 3
              ä¸ªæœˆåï¼Œ11æœˆé¡¹ç›®å†æ¬¡å¯åŠ¨ ç¨³å®šè¿è¡Œè‡³ä»Šï¼Œå¤„ç† API è¯·æ±‚
              å·²è¾¾è¿‘æ•°åäº¿æ¬¡</span
            >
          </li>
          <li>
            <span
              >2023.2.5 å…ƒå®µèŠ‚ï¼Œæœ¬é¡¹ç›®ç”±å•ä¸ªç«™ç‚¹æ‰©å±•ä¸º Room
              æœºåˆ¶ï¼Œå¯¹å¤–å¼€æ”¾ä½¿ç”¨ï¼ŒåŒæ—¶å¼€æ”¾æºç æ”¯æŒç‹¬ç«‹éƒ¨ç½²ï¼š</span
            ><a href="https://github.com/soxft/time-counter"
              ><span>soxft/time-counter</span></a
            >
          </li>
        </ol>
        <h3 id="ä½¿ç”¨"><span>ä½¿ç”¨ï¼š</span></h3>
        <ol start="">
          <li>
            <span>é€‰æ‹©ä¸€ä¸ªç‹¬ç«‹çš„ </span><code>Room ID</code
            ><span> (10å­—ç¬¦ä»¥å†…)</span>
          </li>
          <li>
            <span>é€‰æ‹© </span><code>Iframe</code><span> æ–¹å¼ä½¿ç”¨ or </span
            ><code>js</code><span> æ–¹å¼ä½¿ç”¨</span>
          </li>
          <li><span>Enjoyï¼</span></li>
        </ol>
        <details hide>
          <summary>Choice Room ID</summary>
        <h3 id="room-id"><span>Room IDï¼š</span></h3>
        <p>
          <label for="room-input"><span>ROOMS:</span>&emsp;</label
          ><input type="text" id="room-input" />
        </p>
        <figure>
          <table>
            <thead>
              <tr>
                <th><span>Key</span></th>
                <th><span>Value</span></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span>room ID</span></td>
                <td><span style="color: red" id="online_id"></span></td>
              </tr>
              <tr>
                <td><span>online user</span></td>
                <td><span style="color: red" id="online_user"></span></td>
              </tr>
              <tr>
                <td><span>my online time</span></td>
                <td><span style="color: red" id="online_me"></span></td>
              </tr>
              <tr>
                <td><span>total online time</span></td>
                <td><span style="color: red" id="online_total"></span></td>
              </tr>
            </tbody>
          </table>
        </figure>
      </details>

        <h3 id="ç”¨æ³•"><span>ç”¨æ³•ï¼š</span></h3>
        <ol start="">
          <li><span>Iframe å¼•å…¥</span></li>
        </ol>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="html"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">center</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">iframe</span> <span class="cm-attribute">frameborder</span>=<span class="cm-string">0</span> &nbsp;<span class="cm-attribute">height</span>=<span class="cm-string">50px</span> <span class="cm-attribute">marginwidth</span>=<span class="cm-string">0</span> <span class="cm-attribute">scrolling</span>=<span class="cm-string">no</span> <span class="cm-attribute">src</span>=<span class="cm-string">"https://time-counter.onmicrosoft.cn/room/{Room ID}"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">iframe</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">center</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre>
        <ol start="2">
          <li><span>JS å¼•å…¥</span></li>
        </ol>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded md-focus"
          spellcheck="false"
          lang="html"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap CodeMirror-focused" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 119px; left: 290px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"https://time-counter.onmicrosoft.cn/counter.js"</span> <span class="cm-attribute">async</span>=<span class="cm-string">""</span> <span class="cm-attribute">id</span>=<span class="cm-string">"online-counter"</span> <span class="cm-attribute">interval</span>=<span class="cm-string">"0"</span> <span class="cm-attribute">api</span>=<span class="cm-string">"https://time-counter.onmicrosoft.cn/counter"</span> <span class="cm-attribute">room</span>=<span class="cm-string">"{Room ID}"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">æœ¬ç«™å½“å‰åœ¨çº¿äººæ•° <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">span</span> <span class="cm-attribute">style</span>=<span class="cm-string">"color: red;"</span> <span class="cm-attribute">id</span>=<span class="cm-string">"online_user"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">span</span><span class="cm-tag cm-bracket">&gt;</span> äºº</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">å…¨ç«™åœ¨çº¿æ€»æ—¶é—´ <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">span</span> <span class="cm-attribute">style</span>=<span class="cm-string">"color: red;"</span> <span class="cm-attribute">id</span>=<span class="cm-string">"online_me"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">span</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ä½ çš„åœ¨çº¿æ€»æ—¶é—´: &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">span</span> <span class="cm-attribute">style</span>=<span class="cm-string">"color: red;"</span> <span class="cm-attribute">id</span>=<span class="cm-string">"online_total"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">span</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 176px;"></div></div></div></pre>
        <center>
          <iframe
            frameborder="0"
            height="50px"
            marginwidth="0"
            scrolling="no"
            src="https://time-counter.onmicrosoft.cn/room/info"
          ></iframe>
        </center>
        <blockquote><center>Powered by: ğŸš€ Gin + Redis âœ¨</center></blockquote>

        <script src="https://giscus.onmicrosoft.cn/client.js"
        data-repo="zkeq/busuanzi"
        data-repo-id="R_kgDOHKdBPg"
        data-category="Announcements"
        data-category-id="DIC_kwDOHKdBPs4COh7s"
        data-mapping="title"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
    </script>

      </div>
    </div>
  </body>

  <script>
    let room = localStorage.getItem("room") || "info";
    let roomInput = document.getElementById("room-input");

    // getOnlineUser();
    roomInput.addEventListener("change", function (e) {
      if (e.target.value === "") {
        e.target.value = "info";
      }

      localStorage.setItem("room", e.target.value);
      room = e.target.value;
      document.getElementById("online_id").innerHTML = e.target.value;
      getOnlineUser();
    });

    function getOnlineUser() {
      // ç§»é™¤ä¹‹å‰çš„ online-counter
      let oldScript = document.getElementById("online-counter");
      if (oldScript) {
        oldScript.remove();
      }

      //create script
      let script = document.createElement("script");
      script.src = "https://time-counter.onmicrosoft.cn/counter.js";
      script.async = true;
      script.id = "online-counter";
      script.setAttribute("interval", 500);
      script.setAttribute("api", "https://time-counter.onmicrosoft.cn/counter");
      script.setAttribute("room", room);
      document.head.appendChild(script);
    }
  </script>
</html>
